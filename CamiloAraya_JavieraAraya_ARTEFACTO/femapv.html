<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<meta name="viewport" content="initial-scale=1.0">
	<title>Retirement Simulator</title>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=Bangers|Fruktur|Iceberg" rel="stylesheet">




	<link rel="stylesheet" href="index.css">
	<link rel="stylesheet" href="femafp.css">
	<link rel="stylesheet" href="normalize.css">
	<link rel="stylesheet" href="femapv.css">
	<script type="modernizr-custom.js"></script>


	<script type="text/javascript"> 
		var si, ma, e, vp,vf,an,r,desea,apvahorro;
		function calc(f){
			si=parseInt(f.prin.value);
			ma= parseInt(f.rate.value);
			e=parseInt(f.time.value);
			desea=parseInt(f.val.value);
			
			var rent=4.34;
			var ti=(rent)/100;
			var porc=1+ti;
			r=1/porc;
			var i=0.03;
			var mort=90;
			var jub=60;
			var edad=jub-e;

			
			


			
			var sanualafp=0.1*((100)/100)*si*12;
			vfafp= (sanualafp*(Math.pow(porc,edad-1)));
			 
			 vpafp=(vfafp*(((Math.pow(r,edad+1))-r)/(r-1)));
			 axafp=(i*(Math.pow((1+i),mort-jub)))/((Math.pow((1+i),mort-jub))-1);
			 anafp=(vpafp+ma)*axafp; 
			 anualafp=anafp/12;
			


			
			an=desea;
			
	
			 
			total=(an-anualafp)*12;
			 
			 
			var liq=si*0.8198;
			if(total<161500 ){
				var tasaint=0.15*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.15*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/20;
				f.mensa.value='APV OPCION A';


			}
			else if(total>161500 && liq<2471650){
				var tasaint=0.15*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.15*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/20;
				f.mensa.value='APV OPCION A';


			}
			else if(total>161500 && liq>=2471650 && liq<3384710){
				var tasaint=0.135*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.135*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/20;
				f.mensa.value='APV OPCION B';


			}
			else if(total>161500 && liq>=3384710 && liq<4351770){
				var tasaint=0.23*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.23*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/20;
				f.mensa.value='APV OPCION B';

			}
			else if(total>161500 && liq>=4351770 && liq<5802360){
				var tasaint=0.3*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.3*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/20;
				f.mensa.value='APV OPCION B';


			}
			else if(total>161500 && liq>=5802360){
				var tasaint=0.35*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.35*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/20;
				f.mensa.value='APV OPCION B';


			}



			
			 

			

			
			
			


		}
	</script>

</head>
<body>
	<header>
		<div id='small'>&#xf24e;</div>
		<h1>Retirement Simulator</h1>
		<nav>
			 
			    	 <a href="index.html"> inicio </a>
			 
		</nav>
		
			

		

	</header>
	<section>
		<center><h1 id="cent">¡Simule su pensión aquí!</h1></center>
		
		<form>
			<center>
			Saldo Bruto: <input type="text" name="prin"><br>
			Saldo Disponible: <input type="text" name="rate"><br>
			Edad: <input type="text" name="time"><br>
			Jubilación deseada: <input type="text" name="val"><br>
			<input type="button" name="btn" value="Calculate " onclick="calc(this.form)">
			Pensión: <input type="text" name="simp"><br>
			Recomendación: <input type="text" name="mensa"><br>
			
		</center>
		</form>




		
	</section>
<footer>
	<div id="fotkk">
		<div id='small'>&#xf24e;</div>
		<h1 id="foot">Retirement Simulator</h1>
	</div>
</footer>
</body>
</html>
