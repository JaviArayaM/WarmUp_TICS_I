<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<meta name="viewport" content="initial-scale=1.0">
	<title>Retirement Simulator</title>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=Bangers|Fruktur|Iceberg" rel="stylesheet">




	<link rel="stylesheet" href="index.css">
	<link rel="stylesheet" href="femafp.css">
	<link rel="stylesheet" href="femapv.css">
	<link rel="stylesheet" href="normalize.css">
	<script type="modernizr-custom.js"></script>


	<script type="text/javascript"> 
		var si, ma, e, vp,vf,an,r,desea,apvahorro;
		function calc(f){
			si=parseInt(f.prin.value);
			ma= parseInt(f.rate.value);
			e=parseInt(f.time.value);
			desea=parseInt(f.val.value);
			var inf=2;
			var rent=5.14;
			var ti=(rent-inf)/100;
			var porc=1+ti;
			r=1/porc;
			var i=0.03;
			var mort=85;
			var jub=65;
			var edad=jub-e;

			
			


			
			an=desea*12;
			
			ax=(i*(Math.pow((1+i),mort-jub)))/((Math.pow((1+i),mort-jub))-1);
			vp=(an/ax)-ma;

			vf=vp/((((Math.pow(r,edad+1))-r)/(r-1)))

			sanual=vf/((Math.pow(porc,edad)));
            
            
			apvahorro=sanual/(0.1*((100-0.95)/100)*12);
			 
			total=apvahorro-si;
			 
			 
			var liq=si*0.8198;
			if(total<161500 ){
				var tasaint=0.04*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.15*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/12;
				f.mensa.value='APV OPCION A';


			}
			else if(total>161500 && liq<2471650){
				var tasaint=0.04*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.15*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/12;
				f.mensa.value='APV OPCION A';


			}
			else if(total>161500 && liq>=2471650 && liq<3384710){
				var tasaint=0.04*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.135*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/12;
				f.mensa.value='APV OPCION B';


			}
			else if(total>161500 && liq>=3384710 && liq<4351770){
				var tasaint=0.04*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.23*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/12;
				f.mensa.value='APV OPCION B';

			}
			else if(total>161500 && liq>=4351770 && liq<5802360){
				var tasaint=0.04*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.3*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/12;
				f.mensa.value='APV OPCION B';


			}
			else if(total>161500 && liq>=5802360){
				var tasaint=0.04*liq;
				var dcto= 0.03*liq;
				var tot=tasaint-dcto;
				var apv= liq-tot;
				var range=0.23*total;
				var apvtim=apv-range;

				f.simp.value=apvtim/12;
				f.mensa.value='APV OPCION B';


			}



			
			 

			

			if (si<270196){
				f.simp.value ="Sueldo insuficiente";
			}
			else if (si>2185825){
				si=2185825;
				var sanual=0.1*((100-0.95)/100)*si*12;
				vf= sanual*(Math.pow(porc,edad));
			 r=1/porc;
			 vp=vf*(((Math.pow(r,edad+1))-r)/(r-1));
			 ax=(i*(Math.pow((1+i),mort-jub)))/((Math.pow((1+i),mort-jub))-1);
			 an=vp*ax; 
			 anual=(an+ma)/12;

			f.simp.value=anual;




			}
			if (e<18 ){
				f.simp.value='edad insuficiente';

			}
			else if(e>85){
				f.simp.value='excede edad';
			}
			
			


		}
	</script>

</head>
<body>
	<header>
		<div id='small'>&#xf24e;</div>
		<h1>Retirement Simulator</h1>
		<nav>
			 
			    	 <a href="index.html"> inicio </a>
			 
		</nav>
		
			

		

	</header>
	<section>
		<center><h1 id="cent">¡Proyecte su pensión aquí!</h1></center>
		
		<form>
			<center>
			Saldo Bruto: <input type="text" name="prin"><br>
			Saldo Disponible: <input type="text" name="rate"><br>
			Edad: <input type="text" name="time"><br>
			Jubilación deseada: <input type="text" name="val"><br>
			<input type="button" name="btn" value="Calculate " onclick="calc(this.form)">
			Pensión: <input type="text" name="simp"><br>
			Recomendación: <input type="text" name="mensa"><br>
			
		</center>
		</form>




		
	</section>
<footer>
	<div id="fotkk">
		<div id='small'>&#xf24e;</div>
		<h1 id="foot">Retirement Simulator</h1>
	</div>
</footer>
</body>
</html>